<!-- Biological Age Methylation Page Content -->
<div class="page-header">
    <a href="#dashboard" class="back-link">← Back to Dashboard</a>
    <h1 class="page-title">Biological Age (Methylation)</h1>
    <div class="subtitle">DNA methylation-based aging assessment • Last updated: March 15, 2024</div>
</div>

<!-- Current Assessment -->
<div class="card mb-4">
    <div class="assessment-display" style="text-align: center; padding: 2rem;">
        <div class="age-comparison" style="display: flex; justify-content: center; align-items: center; gap: 2rem; margin-bottom: 1.5rem;">
            <div class="biological-age">
                <div style="font-size: 3.5rem; font-weight: 700; color: #7c3aed; line-height: 1;">30.1</div>
                <div style="font-size: 1.125rem; color: #6b7280; margin-top: 0.5rem;">Biological Age</div>
            </div>
            <div class="vs-indicator" style="font-size: 1.5rem; color: #9ca3af;">vs</div>
            <div class="chronological-age">
                <div style="font-size: 2.5rem; font-weight: 600; color: #4b5563; line-height: 1;">35</div>
                <div style="font-size: 1rem; color: #6b7280; margin-top: 0.5rem;">Chronological Age</div>
            </div>
        </div>
        <div class="assessment-badge" style="display: inline-block; background: #d1fae5; color: #065f46; padding: 0.75rem 1.5rem; border-radius: 2rem; font-weight: 600; font-size: 1.125rem;">
            5 Years Younger
        </div>
        <div class="trend-indicator" style="margin-top: 1rem; color: #6b7280; font-size: 0.875rem;">
            → Stable (No significant change in 6 months)
        </div>
    </div>
</div>

<!-- Understanding Methylation -->
<div class="card mb-4">
    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #1f2937;">Understanding Methylation-Based Biological Age</h3>
    <div style="color: #4b5563; line-height: 1.6; margin-bottom: 1.5rem;">
        DNA methylation is a chemical modification that occurs naturally in your cells and changes predictably with age. 
        This "epigenetic clock" provides one of the most accurate measures of biological aging at the cellular level.
    </div>
    
    <div class="benefits-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
        <div class="benefit-item" style="padding: 1rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #7c3aed;">
            <div style="font-weight: 600; color: #1f2937; margin-bottom: 0.5rem;">Cellular Aging</div>
            <div style="color: #6b7280; font-size: 0.875rem;">Measures aging at the DNA level in your cells</div>
        </div>
        <div class="benefit-item" style="padding: 1rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #7c3aed;">
            <div style="font-weight: 600; color: #1f2937; margin-bottom: 0.5rem;">Disease Risk</div>
            <div style="color: #6b7280; font-size: 0.875rem;">Predicts age-related disease susceptibility</div>
        </div>
        <div class="benefit-item" style="padding: 1rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #7c3aed;">
            <div style="font-weight: 600; color: #1f2937; margin-bottom: 0.5rem;">Longevity Insights</div>
            <div style="color: #6b7280; font-size: 0.875rem;">Provides insights into cellular health and longevity</div>
        </div>
        <div class="benefit-item" style="padding: 1rem; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #7c3aed;">
            <div style="font-weight: 600; color: #1f2937; margin-bottom: 0.5rem;">Intervention Tracking</div>
            <div style="color: #6b7280; font-size: 0.875rem;">Monitors effectiveness of anti-aging interventions</div>
        </div>
    </div>
</div>

<!-- Methylation Trend Analysis -->
<div class="card mb-4">
    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #1f2937;">Methylation Age Trend</h3>
    
    <!-- Chart Container -->
    <div class="chart-container" style="height: 300px; margin-bottom: 1.5rem; position: relative; background: #f8f9fa; border-radius: 8px; padding: 1rem;">
        <svg width="100%" height="100%" viewBox="0 0 800 250" style="overflow: visible;">
            <!-- Grid lines -->
            <defs>
                <pattern id="grid" width="80" height="25" patternUnits="userSpaceOnUse">
                    <path d="M 80 0 L 0 0 0 25" fill="none" stroke="#e5e7eb" stroke-width="1"/>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#grid)" />
            
            <!-- Axes -->
            <line x1="60" y1="200" x2="740" y2="200" stroke="#6b7280" stroke-width="2"/>
            <line x1="60" y1="200" x2="60" y2="20" stroke="#6b7280" stroke-width="2"/>
            
            <!-- Y-axis labels -->
            <text x="45" y="25" text-anchor="end" font-size="12" fill="#6b7280">35</text>
            <text x="45" y="65" text-anchor="end" font-size="12" fill="#6b7280">32</text>
            <text x="45" y="105" text-anchor="end" font-size="12" fill="#6b7280">29</text>
            <text x="45" y="145" text-anchor="end" font-size="12" fill="#6b7280">26</text>
            <text x="45" y="185" text-anchor="end" font-size="12" fill="#6b7280">23</text>
            <text x="45" y="205" text-anchor="end" font-size="12" fill="#6b7280">20</text>
            
            <!-- X-axis labels -->
            <text x="100" y="220" text-anchor="middle" font-size="12" fill="#6b7280">May 2023</text>
            <text x="220" y="220" text-anchor="middle" font-size="12" fill="#6b7280">Jul 2023</text>
            <text x="340" y="220" text-anchor="middle" font-size="12" fill="#6b7280">Sep 2023</text>
            <text x="460" y="220" text-anchor="middle" font-size="12" fill="#6b7280">Nov 2023</text>
            <text x="580" y="220" text-anchor="middle" font-size="12" fill="#6b7280">Jan 2024</text>
            <text x="700" y="220" text-anchor="middle" font-size="12" fill="#6b7280">Mar 2024</text>
            
            <!-- Optimal range zone (background) -->
            <rect x="60" y="105" width="680" height="40" fill="#d1fae5" opacity="0.3"/>
            <text x="750" y="120" font-size="12" fill="#059669">Optimal Range</text>
            <text x="750" y="135" font-size="12" fill="#059669">(26-30 years)</text>
            
            <!-- Methylation age trend line with more realistic progression -->
            <polyline points="100,125 160,122 220,118 280,115 340,112 400,108 460,105 520,102 580,100 640,98 700,96" 
                      fill="none" stroke="#7c3aed" stroke-width="3"/>
            
            <!-- Data points -->
            <circle cx="100" cy="125" r="4" fill="#7c3aed"/>
            <circle cx="160" cy="122" r="4" fill="#7c3aed"/>
            <circle cx="220" cy="118" r="4" fill="#7c3aed"/>
            <circle cx="280" cy="115" r="4" fill="#7c3aed"/>
            <circle cx="340" cy="112" r="4" fill="#7c3aed"/>
            <circle cx="400" cy="108" r="4" fill="#7c3aed"/>
            <circle cx="460" cy="105" r="4" fill="#7c3aed"/>
            <circle cx="520" cy="102" r="4" fill="#7c3aed"/>
            <circle cx="580" cy="100" r="4" fill="#7c3aed"/>
            <circle cx="640" cy="98" r="4" fill="#7c3aed"/>
            <circle cx="700" cy="96" r="4" fill="#7c3aed"/>
            
            <!-- Current value highlight -->
            <circle cx="700" cy="96" r="6" fill="none" stroke="#7c3aed" stroke-width="2"/>
            <text x="700" y="82" text-anchor="middle" font-size="14" font-weight="600" fill="#7c3aed">30.1</text>
            
            <!-- Trend arrow -->
            <path d="M 650 90 L 680 85 L 675 80 M 680 85 L 675 90" stroke="#059669" stroke-width="2" fill="none"/>
            <text x="630" y="85" font-size="12" fill="#059669">Improving</text>
        </svg>
    </div>
    
    <!-- Trend Statistics -->
    <div class="trend-stats" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; padding: 1rem; background: white; border-radius: 8px; border: 1px solid #e5e7eb;">
        <div class="stat-item" style="text-align: center;">
            <div style="font-size: 1.5rem; font-weight: 600; color: #059669;">-1.2</div>
            <div style="font-size: 0.875rem; color: #6b7280;">Years Improved</div>
        </div>
        <div class="stat-item" style="text-align: center;">
            <div style="font-size: 1.5rem; font-weight: 600; color: #7c3aed;">10</div>
            <div style="font-size: 0.875rem; color: #6b7280;">Months Tracked</div>
        </div>
        <div class="stat-item" style="text-align: center;">
            <div style="font-size: 1.5rem; font-weight: 600; color: #7c3aed;">-0.12</div>
            <div style="font-size: 0.875rem; color: #6b7280;">Monthly Rate</div>
        </div>
        <div class="stat-item" style="text-align: center;">
            <div style="font-size: 1.5rem; font-weight: 600; color: #059669;">4.9</div>
            <div style="font-size: 0.875rem; color: #6b7280;">Years Younger</div>
        </div>
    </div>
</div>

<!-- Methylation Biomarkers -->
<div class="card mb-4">
    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #1f2937;">Key Methylation Sites</h3>
    <div style="color: #6b7280; margin-bottom: 1.5rem; line-height: 1.6;">
        Your methylation age is calculated from specific CpG sites across your genome. Here are the key contributors:
    </div>
    
    <div class="biomarkers-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
        <div class="biomarker-card" style="padding: 1rem; border: 1px solid #e5e7eb; border-radius: 8px; background: white;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                <span style="font-weight: 600; color: #1f2937;">ELOVL2 Gene Region</span>
                <span style="color: #059669; font-weight: 600;">Optimal</span>
            </div>
            <div style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.75rem;">
                Key aging biomarker - methylation level: 68%
            </div>
            <div class="progress-bar" style="width: 100%; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                <div style="width: 68%; height: 100%; background: #059669;"></div>
            </div>
        </div>
        
        <div class="biomarker-card" style="padding: 1rem; border: 1px solid #e5e7eb; border-radius: 8px; background: white;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                <span style="font-weight: 600; color: #1f2937;">FHL2 Gene Region</span>
                <span style="color: #059669; font-weight: 600;">Good</span>
            </div>
            <div style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.75rem;">
                Muscle aging marker - methylation level: 45%
            </div>
            <div class="progress-bar" style="width: 100%; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                <div style="width: 45%; height: 100%; background: #059669;"></div>
            </div>
        </div>
        
        <div class="biomarker-card" style="padding: 1rem; border: 1px solid #e5e7eb; border-radius: 8px; background: white;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                <span style="font-weight: 600; color: #1f2937;">PENK Gene Region</span>
                <span style="color: #d97706; font-weight: 600;">Monitor</span>
            </div>
            <div style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.75rem;">
                Neurological aging - methylation level: 72%
            </div>
            <div class="progress-bar" style="width: 100%; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                <div style="width: 72%; height: 100%; background: #d97706;"></div>
            </div>
        </div>
        
        <div class="biomarker-card" style="padding: 1rem; border: 1px solid #e5e7eb; border-radius: 8px; background: white;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                <span style="font-weight: 600; color: #1f2937;">KLF14 Gene Region</span>
                <span style="color: #059669; font-weight: 600;">Excellent</span>
            </div>
            <div style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.75rem;">
                Metabolic aging marker - methylation level: 38%
            </div>
            <div class="progress-bar" style="width: 100%; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden;">
                <div style="width: 38%; height: 100%; background: #059669;"></div>
            </div>
        </div>
    </div>
</div>

<!-- Optimization Recommendations -->
<div class="card mb-4">
    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #1f2937;">Methylation Optimization</h3>
    <div style="color: #6b7280; margin-bottom: 1.5rem; line-height: 1.6;">
        Evidence-based interventions that may help optimize your methylation patterns and slow biological aging:
    </div>
    
    <div class="recommendations-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
        <div class="recommendation-card" style="padding: 1.5rem; border: 1px solid #e5e7eb; border-radius: 8px; background: white;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 1rem;">
                <span style="font-size: 1.5rem;">🥗</span>
                <div>
                    <div style="font-weight: 600; color: #1f2937;">Methyl Donor Support</div>
                    <div style="color: #6b7280; font-size: 0.875rem;">Nutritional optimization</div>
                </div>
            </div>
            <div style="color: #4b5563; font-size: 0.875rem; line-height: 1.5; margin-bottom: 1rem;">
                Focus on foods rich in folate, B12, choline, and betaine to support healthy methylation cycles.
            </div>
            <div style="color: #7c3aed; font-weight: 600; font-size: 0.875rem;">
                Potential Impact: -0.5 to -1.2 years
            </div>
        </div>
        
        <div class="recommendation-card" style="padding: 1.5rem; border: 1px solid #e5e7eb; border-radius: 8px; background: white;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 1rem;">
                <span style="font-size: 1.5rem;">🏃‍♀️</span>
                <div>
                    <div style="font-weight: 600; color: #1f2937;">Regular Exercise</div>
                    <div style="color: #6b7280; font-size: 0.875rem;">Epigenetic modulation</div>
                </div>
            </div>
            <div style="color: #4b5563; font-size: 0.875rem; line-height: 1.5; margin-bottom: 1rem;">
                Consistent aerobic and resistance training can positively influence methylation patterns.
            </div>
            <div style="color: #7c3aed; font-weight: 600; font-size: 0.875rem;">
                Potential Impact: -0.8 to -1.5 years
            </div>
        </div>
        
        <div class="recommendation-card" style="padding: 1.5rem; border: 1px solid #e5e7eb; border-radius: 8px; background: white;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 1rem;">
                <span style="font-size: 1.5rem;">😴</span>
                <div>
                    <div style="font-weight: 600; color: #1f2937;">Sleep Optimization</div>
                    <div style="color: #6b7280; font-size: 0.875rem;">Circadian regulation</div>
                </div>
            </div>
            <div style="color: #4b5563; font-size: 0.875rem; line-height: 1.5; margin-bottom: 1rem;">
                Quality sleep supports healthy methylation cycles and cellular repair processes.
            </div>
            <div style="color: #7c3aed; font-weight: 600; font-size: 0.875rem;">
                Potential Impact: -0.3 to -0.8 years
            </div>
        </div>
        
        <div class="recommendation-card" style="padding: 1.5rem; border: 1px solid #e5e7eb; border-radius: 8px; background: white;">
            <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 1rem;">
                <span style="font-size: 1.5rem;">🧘‍♀️</span>
                <div>
                    <div style="font-weight: 600; color: #1f2937;">Stress Management</div>
                    <div style="color: #6b7280; font-size: 0.875rem;">Cortisol regulation</div>
                </div>
            </div>
            <div style="color: #4b5563; font-size: 0.875rem; line-height: 1.5; margin-bottom: 1rem;">
                Chronic stress can accelerate methylation aging. Regular meditation and stress reduction help.
            </div>
            <div style="color: #7c3aed; font-weight: 600; font-size: 0.875rem;">
                Potential Impact: -0.4 to -0.9 years
            </div>
        </div>
    </div>
</div>

<!-- Related Health Areas -->
<div class="card">
    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #1f2937;">Related Health Areas</h3>
    <div class="related-links" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
        <a href="#biological-age" class="related-link" style="display: block; padding: 1rem; border: 1px solid #e5e7eb; border-radius: 8px; text-decoration: none; color: inherit; transition: all 0.2s;">
            <div style="font-weight: 600; color: #7c3aed; margin-bottom: 0.5rem;">Biological Age (Blood)</div>
            <div style="color: #6b7280; font-size: 0.875rem;">Compare with blood-based aging markers</div>
        </a>
        <a href="#lifespan" class="related-link" style="display: block; padding: 1rem; border: 1px solid #e5e7eb; border-radius: 8px; text-decoration: none; color: inherit; transition: all 0.2s;">
            <div style="font-weight: 600; color: #7c3aed; margin-bottom: 0.5rem;">Lifespan Projection</div>
            <div style="color: #6b7280; font-size: 0.875rem;">See how methylation affects longevity</div>
        </a>
        <a href="#dna-traits" class="related-link" style="display: block; padding: 1rem; border: 1px solid #e5e7eb; border-radius: 8px; text-decoration: none; color: inherit; transition: all 0.2s;">
            <div style="font-weight: 600; color: #7c3aed; margin-bottom: 0.5rem;">DNA Traits</div>
            <div style="color: #6b7280; font-size: 0.875rem;">Explore genetic factors affecting methylation</div>
        </a>
        <a href="#lifestyle" class="related-link" style="display: block; padding: 1rem; border: 1px solid #e5e7eb; border-radius: 8px; text-decoration: none; color: inherit; transition: all 0.2s;">
            <div style="font-weight: 600; color: #7c3aed; margin-bottom: 0.5rem;">Lifestyle Programs</div>
            <div style="color: #6b7280; font-size: 0.875rem;">Personalized interventions for optimization</div>
        </a>
    </div>
</div>

<style>
.related-link:hover {
    background: #f8f9fa;
    border-color: #7c3aed;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(124, 58, 237, 0.15);
}

.biomarker-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
    transition: all 0.2s;
}

.recommendation-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px);
    transition: all 0.2s;
}
</style>
